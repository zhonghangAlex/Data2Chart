/* empty css              *//* empty css              *//* empty css              *//* empty css              */import{m as e,r as a,c as s,a as t,x as r,b as l,P as n,o,C as i,Q as d,R as p,S as u,G as c}from"./vendor-0406d426.js";import"./index-e37a4e07.js";import{U as m,l as f,u as h}from"./login-35ffbd74.js";import{_ as g}from"./index-1ec01f31.js";import"./AntdIcon-8a85f685.js";const b={components:{UserOutlined:m},data:()=>({submit:{user_name:"",password:""},code:"",randomNum:0}),mounted(){this.refreshImg()},methods:{refreshNum(){let e=0;for(;0===e||e===this.randomNum;)e=10*Math.random();this.randomNum=e},codeInput(e){document.cookie=`captcha_client=${e.target.value}`},async refreshImg(){this.refreshNum();const e=document.getElementById("svgWrapper");e.innerHTML="";const a=await f.getImg({v:this.randomNum});e.innerHTML=a},async handleSubmit(){const a=h(),s={user_name:this.$refs.username.stateValue,password:this.$refs.password.input.stateValue},t=await f.login(s||{user_name:"alexzhli",password:"123456"});switch(a.updateStatus(),t.code){case 0:e.success("登录成功,即将跳转到主页"),setTimeout((()=>this.$router.push({path:"/projects"})),3e3);break;case 1:e.error(t.message)}},handleReset(){this.submit={}}}},x={class:"login"},_=l("h1",{style:{color:"#333","margin-bottom":"40px"}},"登录",-1),w={class:"flex"},j=l("div",{id:"svgWrapper"},null,-1),v=i("换一个"),k={class:"flex"},y=l("span",null,null,-1),C=i("登陆"),I=i("重置");var N=g(b,[["render",function(e,i,m,f,h,g){const b=a("UserOutlined"),N=d,S=p,$=u,M=c,R=n;return o(),s("div",x,[_,t(R,null,{default:r((()=>[t(S,{label:"账号：","label-col":{span:4},"wrapper-col":{span:20}},{default:r((()=>[t(N,{ref:"username",placeholder:"用户名"},{prefix:r((()=>[t(b)])),_:1},512)])),_:1}),t(S,{label:"密码：","label-col":{span:4},"wrapper-col":{span:20}},{default:r((()=>[t($,{ref:"password",placeholder:"密码"},null,512)])),_:1}),t(S,{label:"验证码：","label-col":{span:4},"wrapper-col":{span:20}},{default:r((()=>[l("div",w,[t(N,{placeholder:"验证码",style:{width:"40%"},onChange:g.codeInput},null,8,["onChange"]),j,t(M,{type:"link",onClick:g.refreshImg},{default:r((()=>[v])),_:1},8,["onClick"])])])),_:1}),t(S,{"wrapper-col":{span:14,offset:4}},{default:r((()=>[l("div",k,[y,t(M,{type:"primary",style:{"margin-left":"8px"},onClick:g.handleSubmit},{default:r((()=>[C])),_:1},8,["onClick"]),t(M,{onClick:g.handleReset},{default:r((()=>[I])),_:1},8,["onClick"])])])),_:1})])),_:1})])}]]);export{N as default};
//# sourceMappingURL=index-2db1c530.js.map
