/* empty css              */import{u as a}from"./process-543ac880.js";import{G as e,_ as t,u as s}from"./ChartDisplay-f60d8d8c.js";import{_ as i}from"./index-1ec01f31.js";import{h as r,t as l,o,c as n,F as u,a3 as c,a4 as d,a as v,b as p,a5 as m,q as y,j as f,a6 as _,x,u as b,v as h,a7 as g,C as j,m as C,a8 as k,G as F,a9 as w,A as O,B as A}from"./vendor-0406d426.js";import{v as D}from"./index-c7f9c6b1.js";import"./index-e37a4e07.js";import"./___vite-browser-external_commonjs-proxy-604003e4.js";const q={class:"component__grid"},J=["onClick"],N={class:"component__text"};var P=i(r({props:{name:null},emits:["update:name"],setup(a,{emit:s}){const i=a,r=l(e),y=l(i.name||"Area"),f=l(y.value),_=l({width:300,height:200,autoFit:!1,angleField:"value",colorField:"year",xField:"year",yField:"value",tooltip:{showContent:!1},smooth:!0,meta:{value:{max:15}},data:[{year:"1991",value:3},{year:"1992",value:4},{year:"1993",value:3.5},{year:"1994",value:5},{year:"1995",value:4.9},{year:"1996",value:6},{year:"1997",value:7},{year:"1998",value:9},{year:"1999",value:11}]});return(a,e)=>{const i=t;return o(),n("div",q,[(o(!0),n(u,null,c(r.value,((a,e)=>(o(),n("div",{key:e,class:d(f.value===e?"component__item active":"component__item"),onClick:a=>{return t=e,f.value=t,void s("update:name",t);var t}},[v(i,{id:e,url:!1,name:e,options:_.value,"water-mark-options":!1,"use-store":!1},null,8,["id","name","options"]),p("p",N,m(a.text),1)],10,J)))),128))])}}}),[["__scopeId","data-v-1cdf0976"]]);const S=a=>(O("data-v-33baf95b"),a=a(),A(),a),E={style:{position:"relative","min-height":"660px"}},G=j("请选择您需要的类型"),I=S((()=>p("p",null,"您在之前已配置过该图表，是否基于之前的配置修改？",-1))),R=j("> ");var B=i(r({setup(t){const i=y(),r=s(),c=a(),d=l("Area"),O=f((()=>e[d.value].text)),A=f((()=>r.projectData)),q=l(!1),J=()=>{r.initChart(A.value),i.push("/visual/config")},N=async()=>{try{let a;if("back"===i.currentRoute.value.query.status){const{xField:e,yField:t,data:s}=JSON.parse(r.projectData.vis_config);a={x:e,y:t,data:s}}else{if(!c.tableExport)return void C.error("数据未定义");a=c.tableExport}const t=await(async(a,t)=>{const s=Object.assign(e[d.value].defaultConfigs,{xField:t.x,yField:t.y,data:t.data});return await D.updateChartPicConfig({chart_title:"",chart_type:d.value,chartpic_id:a,vis_config:JSON.stringify(s),watermark_config:JSON.stringify(!1)})})(A.value.chartpic_id,a);r.initChart(t),i.push("/visual/config")}catch(a){}};return _((async()=>{if("back"!==i.currentRoute.value.query.status){const{result:{data:[a]}}=await D.getAllChartPic("32958067-a627-4b64-abaa-43c52734b649");r.backupProjectData(a),null!==a.chart_type&&(q.value=!0)}})),(a,e)=>{const t=k,s=P,i=F,r=w;return o(),n(u,null,[p("div",E,[v(t,{class:"text",orientation:"left"},{default:x((()=>[G])),_:1}),v(s,{name:d.value,"onUpdate:name":e[0]||(e[0]=a=>d.value=a)},null,8,["name"]),v(i,{class:"btn",type:"primary",disabled:!b(O),onClick:N},{default:x((()=>[j("已选择："+m(b(O)||"未选择"),1)])),_:1},8,["disabled"])]),(o(),h(g,{to:"#modal"},[v(r,{title:"注意",visible:q.value,"ok-text":"确认","cancel-text":"取消",onOk:J,onCancel:e[1]||(e[1]=a=>q.value=!1)},{default:x((()=>[I])),_:1},8,["visible"]),R]))],64)}}}),[["__scopeId","data-v-33baf95b"]]);export{B as default};
//# sourceMappingURL=ChartSelect-31c514e9.js.map
