{"version":3,"file":"register-ba33d3d2.js","sources":["../../src/pages/login/register.vue"],"sourcesContent":["<template>\n\t<div class=\"login\">\n\t\t<div class=\"login-a-form\">\n\t\t\t<h1 style=\"color: #333; margin-bottom: 40px\">Register</h1>\n\t\t\t<!-- <a-form\n\t\t\t\t:label-width=\"80\"\n\t\t\t\t:rules=\"ruleInline\"\n\t\t\t\tref=\"submit\"\n\t\t\t\t:model=\"submit\"\n\t\t\t\t@keyup.native.enter=\"handleSubmit\"\n\t\t\t> -->\n\t\t\t<a-form ref=\"submit\" :label-width=\"80\" :rules=\"ruleInline\" :model=\"submit\">\n\t\t\t\t<a-form-item label=\"账号：\" :label-width=\"100\" prop=\"username\">\n\t\t\t\t\t<a-input v-model=\"submit.username\" type=\"text\" placeholder=\"请输入 不能超过十六位\">\n\t\t\t\t\t\t<!-- <Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon> -->\n\t\t\t\t\t\t<Icon type=\"ios-person-outline\"></Icon>\n\t\t\t\t\t</a-input>\n\t\t\t\t</a-form-item>\n\t\t\t\t<a-form-item label=\"密码：\" :label-width=\"100\" prop=\"password\">\n\t\t\t\t\t<a-input v-model=\"submit.password\" type=\"password\" password>\n\t\t\t\t\t\t<!-- <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon> -->\n\t\t\t\t\t\t<Icon type=\"ios-lock-outline\"></Icon>\n\t\t\t\t\t</a-input>\n\t\t\t\t</a-form-item>\n\t\t\t\t<a-form-item label=\"确认密码：\" :label-width=\"100\" prop=\"confirmPassword\">\n\t\t\t\t\t<a-input v-model=\"submit.confirmPassword\" type=\"password\" password>\n\t\t\t\t\t\t<!-- <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon> -->\n\t\t\t\t\t\t<Icon type=\"ios-lock-outline\"></Icon>\n\t\t\t\t\t</a-input>\n\t\t\t\t</a-form-item>\n\t\t\t\t<a-form-item label=\"验证码：\" :label-width=\"100\">\n\t\t\t\t\t<div class=\"flex\">\n\t\t\t\t\t\t<a-input v-model=\"verCode\" type=\"text\" style=\"width: 40%; margin-right: 30px\">\n\t\t\t\t\t\t\t<!-- <Icon type=\"ios-megaphone-outline\" slot=\"prepend\"></Icon> -->\n\t\t\t\t\t\t\t<Icon type=\"ios-megaphone-outline\"></Icon>\n\t\t\t\t\t\t</a-input>\n\t\t\t\t\t\t<canvas id=\"myCanvas\"></canvas>\n\t\t\t\t\t\t<a-button type=\"text\" style=\"margin-left: 10px\" @click=\"createCode\">换一个</a-button>\n\t\t\t\t\t</div>\n\t\t\t\t</a-form-item>\n\t\t\t\t<a-form-item>\n\t\t\t\t\t<a-button type=\"primary\" @click=\"handleSubmit\">注册</a-button>\n\t\t\t\t\t<router-link to=\"/\" style=\"margin-left: 30px\">返回首页</router-link>\n\t\t\t\t</a-form-item>\n\t\t\t</a-form>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n// import mixins from './mixins';\n\nexport default {\n\t// mixins: [mixins],\n\tdata() {\n\t\treturn {\n\t\t\tsubmit: {\n\t\t\t\tusername: '',\n\t\t\t\tpassword: '',\n\t\t\t\tconfirmPassword: '',\n\t\t\t},\n\t\t\tcreateC: '',\n\t\t\tverCode: '',\n\t\t\truleInline: {\n\t\t\t\tusername: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\ttrigger: 'blur',\n\t\t\t\t\t\tvalidator: (rule, value, callback) => {\n\t\t\t\t\t\t\t// const p = '(0?//d{1,2})[///-]0?//d{1,2}[///-]//d{4}';\n\t\t\t\t\t\t\t// const reg = new RegExp(p, 'g');\n\t\t\t\t\t\t\tconst reg = new RegExp('[\\\\u4E00-\\\\u9FFF]+', 0);\n\t\t\t\t\t\t\tif (reg.test(value)) {\n\t\t\t\t\t\t\t\tcallback(new Error('不能含有中文字符'));\n\t\t\t\t\t\t\t} else if (value.length > 16) {\n\t\t\t\t\t\t\t\tcallback(new Error('账号长度不能超过十六位'));\n\t\t\t\t\t\t\t} else if (/^[a-zA-Z][a-zA-Z0-9_]{4,15}$/.test(value)) {\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t} else if (value.length < 6) {\n\t\t\t\t\t\t\t\tcallback(new Error('账号长度不能小于六位'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcallback(new Error('账号格式不正确'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tpassword: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\ttrigger: 'blur',\n\t\t\t\t\t\tvalidator: (rule, value, callback) => {\n\t\t\t\t\t\t\tif (value === '') {\n\t\t\t\t\t\t\t\tcallback(new Error('请输入密码'));\n\t\t\t\t\t\t\t} else if (value.length < 6) {\n\t\t\t\t\t\t\t\tcallback(new Error('密码格式不正确'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (this.submit.confirmPassword !== '') {\n\t\t\t\t\t\t\t\t\t// 对第二个密码框单独验证\n\t\t\t\t\t\t\t\t\tthis.$refs.submit.validateField('confirmPassword');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tconfirmPassword: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\ttrigger: 'blur',\n\t\t\t\t\t\tvalidator: (rule, value, callback) => {\n\t\t\t\t\t\t\tif (value === '') {\n\t\t\t\t\t\t\t\tcallback(new Error('请再次输入密码'));\n\t\t\t\t\t\t\t} else if (value.length < 6) {\n\t\t\t\t\t\t\t\tcallback(new Error('密码格式不正确'));\n\t\t\t\t\t\t\t} else if (value !== this.submit.password) {\n\t\t\t\t\t\t\t\tcallback(new Error('两次密码不匹配'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t};\n\t},\n\tmounted() {},\n\tmethods: {\n\t\thandleSubmit() {\n\t\t\tthis.$refs.submit.validate(valid => {\n\t\t\t\tif (valid) {\n\t\t\t\t\tif (this.verCode !== this.createC) {\n\t\t\t\t\t\tthis.$Message.warning('验证码输入错误');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tdelete this.submit.confirmPassword;\n\t\t\t\t\t// this.$ajax.post('/register', this.submit).then(res => {\n\t\t\t\t\t// \tif (res.success) {\n\t\t\t\t\t// \t\tthis.$Message.success(res.message, '请登录')\n\t\t\t\t\t// \t\tthis.$router.push('/login')\n\t\t\t\t\t// \t\treturn\n\t\t\t\t\t// \t}\n\t\t\t\t\t// \tthis.$Message.warning(res.message)\n\t\t\t\t\t// \tthis.createCode()\n\t\t\t\t\t// \tthis.verCode = '';\n\t\t\t\t\t// \tthis.submit.username = '';\n\t\t\t\t\t// })\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n};\n</script>\n\n<style>\n.login {\n\twidth: 100%;\n\theight: 100%;\n\tbackground-size: cover;\n\tdisplay: flex;\n\tjustify-content: center;\n}\n.login-a-form {\n\ttext-align: center;\n\tpadding: 20px;\n\tborder-radius: 10px;\n\tmargin-top: 4rem;\n}\n.flex {\n\tdisplay: flex;\n\talign-items: center;\n}\n</style>\n"],"names":[],"mappings":"kQAoDA"}